<!DOCTYPE html><html><head><link href="/images/favicon.png" rel="icon" type="image/png" /><meta charset="utf-8" /><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" /><meta content="ROM &raquo; Blog &raquo; First Beta of ROM 1.0.0 Has Been Released via @rom_rb" name="twitter:description" /><meta content="ROM &raquo; Blog &raquo; First Beta of ROM 1.0.0 Has Been Released" name="description" /><title>ROM &raquo; Blog &raquo; First Beta of ROM 1.0.0 Has Been Released</title><style type="text/css">.highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #d0d0d0;
  background-color: #151515;
}
.highlight .err {
  color: #151515;
  background-color: #ac4142;
}
.highlight .c, .highlight .cd, .highlight .cm, .highlight .c1, .highlight .cs {
  color: #505050;
}
.highlight .cp {
  color: #f4bf75;
}
.highlight .nt {
  color: #f4bf75;
}
.highlight .o, .highlight .ow {
  color: #d0d0d0;
}
.highlight .p, .highlight .pi {
  color: #d0d0d0;
}
.highlight .gi {
  color: #90a959;
}
.highlight .gd {
  color: #ac4142;
}
.highlight .gh {
  color: #6a9fb5;
  background-color: #151515;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #aa759f;
}
.highlight .kc {
  color: #d28445;
}
.highlight .kt {
  color: #d28445;
}
.highlight .kd {
  color: #d28445;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #90a959;
}
.highlight .sr {
  color: #75b5aa;
}
.highlight .si {
  color: #8f5536;
}
.highlight .se {
  color: #8f5536;
}
.highlight .nn {
  color: #f4bf75;
}
.highlight .nc {
  color: #f4bf75;
}
.highlight .no {
  color: #f4bf75;
}
.highlight .na {
  color: #6a9fb5;
}
.highlight .m, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mb, .highlight .mx {
  color: #90a959;
}
.highlight .ss {
  color: #90a959;
}</style><link href="../../../../../stylesheets/all.css" rel="stylesheet" /><script src="../../../../../javascripts/all.js"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script><script>$(function() {
  var share = new Share(".share")
});
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-2573270-5', 'auto');
ga('send', 'pageview');</script></head><body class="blog blog_2015 blog_2015_11 blog_2015_11_24 blog_2015_11_24_first-beta-of-rom-1-0-0-has-been-released blog_2015_11_24_first-beta-of-rom-1-0-0-has-been-released_index"><div class="page-wrapper"><header><nav class="navbar navbar-default navbar-static-top"><div class="navbar-inner"><div class="container"><a class="navbar-brand" href="/">Ruby Object Mapper</a><ul class="nav navbar-nav"><li class=""><a class="" href="/learn">Learn</a></li><li class="dropdown"><a class="dropdown-toggle" role="button" data-toggle="dropdown" href="#">API <span class='caret'/></a><ul class="dropdown-menu" role="menu"><li><a href="http://www.rubydoc.info/gems/rom">rom</a></li><li><a href="http://www.rubydoc.info/gems/rom-cassandra">rom-cassandra</a></li><li><a href="http://www.rubydoc.info/gems/rom-couchdb">rom-couchdb</a></li><li><a href="http://www.rubydoc.info/gems/rom-csv">rom-csv</a></li><li><a href="http://www.rubydoc.info/gems/rom-dm">rom-dm</a></li><li><a href="http://www.rubydoc.info/gems/rom-event_store">rom-event_store</a></li><li><a href="http://www.rubydoc.info/gems/rom-git">rom-git</a></li><li><a href="http://www.rubydoc.info/gems/rom-http">rom-http</a></li><li><a href="http://www.rubydoc.info/gems/rom-influxdb">rom-influxdb</a></li><li><a href="http://www.rubydoc.info/gems/rom-json">rom-json</a></li><li><a href="http://www.rubydoc.info/gems/rom-kafka">rom-kafka</a></li><li><a href="http://www.rubydoc.info/gems/rom-lotus">rom-lotus</a></li><li><a href="http://www.rubydoc.info/gems/rom-mongo">rom-mongo</a></li><li><a href="http://www.rubydoc.info/gems/rom-neo4j">rom-neo4j</a></li><li><a href="http://www.rubydoc.info/gems/rom-rails">rom-rails</a></li><li><a href="http://www.rubydoc.info/gems/rom-redis">rom-redis</a></li><li><a href="http://www.rubydoc.info/gems/rom-rethinkdb">rom-rethinkdb</a></li><li><a href="http://www.rubydoc.info/gems/rom-roda">rom-roda</a></li><li><a href="http://www.rubydoc.info/gems/rom-sql">rom-sql</a></li><li><a href="http://www.rubydoc.info/gems/rom-yaml">rom-yaml</a></li><li><a href="http://www.rubydoc.info/gems/rom-yesql">rom-yesql</a></li></ul></li><li class=""><a class="" href="/blog">Blog</a></li><li class=""><a class="" href="/contribute">Contribute</a></li><li class=""><a class="" href="/status">Status</a></li><li class=""><a class="" href="/backers">Backers <3</a></li></ul></div></div></nav></header><div class="container"><div class="content"><div class="blog"><div class="row"><div class="col-md-8"><section class="articles"><article><header><h1>First Beta of ROM 1.0.0 Has Been Released</h1><div class="article-meta">Published on November 24, 2015 by <a href="https://twitter.com/_solnic_">Piotr Solnica</a> under <a class="tag" href="/blog/tags/announcement/">announcement</a></div></header><hr /><div class="article-body"><p>Exactly a year ago ROM 0.3.0 was released after <a href="http://solnic.eu/2014/10/23/ruby-object-mapper-reboot.html">the reboot of the project was announced</a>, it was a complete rewrite that introduced the new and simplified adapter interface. Since then we&rsquo;ve come a long way, the community has been growing, rom-rb organization on Github has now 28 projects including 16 adapters.</p>

<p>The core API, which also includes adapter interface, is stabilizing. This means we are coming very close to releasing the final version of rom 1.0.0 and today I&rsquo;m very happy to announce that its first beta1 was released. Please notice this is the release of the core rom gem - adapters and other extensions remain unstable (in the sem-ver sense).</p>

<p>To ease testing we also released beta versions of minor upgrades of other rom gems so that you can install them from rubygems rather than relying on github sources. Overall the release includes following updates:</p>

<ul>
<li><a href="https://rubygems.org/gems/rom">rom</a> 1.0.0.beta1 <a href="https://github.com/rom-rb/rom/blob/master/CHANGELOG.md#v100-to-be-released">CHANGELOG</a></li>
<li><a href="https://rubygems.org/gems/rom-support">rom-support</a> 1.0.0.beta1 <a href="https://github.com/rom-rb/rom-support/blob/master/CHANGELOG.md#v100-to-be-released">CHANGELOG</a></li>
<li><a href="https://rubygems.org/gems/rom-mapper">rom-mapper</a> 0.3.0.beta1 <a href="https://github.com/rom-rb/rom-mapper/blob/master/CHANGELOG.md#v030-to-be-released">CHANGELOG</a></li>
<li><a href="https://rubygems.org/gems/rom-repository">rom-repository</a> 0.2.0.beta1 <a href="https://github.com/rom-rb/rom-repository/blob/master/CHANGELOG.md#v020-to-be-released">CHANGELOG</a></li>
<li><a href="https://rubygems.org/gems/rom-sql">rom-sql</a> 0.7.0.beta1 <a href="https://github.com/rom-rb/rom-sql/blob/master/CHANGELOG.md#v070-to-be-released">CHANGELOG</a></li>
<li><a href="https://rubygems.org/gems/rom-rails">rom-rails</a> 0.6.0.beta1 <a href="https://github.com/rom-rb/rom-rails/blob/master/CHANGELOG.md#v060-to-be-released">CHANGELOG</a></li>
<li><a href="https://rubygems.org/gems/rom-model">rom-model</a> 0.2.0.beta1 <a href="https://github.com/rom-rb/rom-model/blob/master/CHANGELOG.md#020-to-be-released">CHANGELOG</a></li>
</ul>

<h2 id="changes-in-setup-api">Changes In Setup API</h2>

<p>Setting up ROM has been refactored and specific responsibilites have been broken down into smaller, and explicit, objects. Unfortunately it is a breaking change as <code>ROM.setup</code> method is gone. If you&rsquo;re using ROM with rails, things should continue to work, but if you have a custom rom setup additional actions are required.</p>

<p>This was an important change that resulted in a cleaner API, removed complex logic that used to rely on <code>inheritance</code> hooks to automatically register components and reduced the amount of global state that ROM relies on.</p>

<p>We kept convenience in mind though and introduced a feature that uses dir/file structure to infer components and register them automatically but without the complexity of relying on <code>inheritance</code> hooks.</p>

<p>Here&rsquo;s an example of a step-by-step setup with explicit registration:</p>
<pre class="highlight ruby"><code><span class="c1"># instead of ROM.setup:</span>
<span class="n">config</span> <span class="o">=</span> <span class="no">ROM</span><span class="o">::</span><span class="no">Configuration</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">:sql</span><span class="p">,</span> <span class="s1">'postgres://localhost/rom'</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Users</span> <span class="o">&lt;</span> <span class="no">ROM</span><span class="o">::</span><span class="no">Relation</span><span class="p">[</span><span class="ss">:sql</span><span class="p">]</span>
<span class="k">end</span>

<span class="n">config</span><span class="p">.</span><span class="nf">register_relation</span><span class="p">(</span><span class="no">Users</span><span class="p">)</span>

<span class="c1"># creates rom container with registered components</span>
<span class="n">container</span> <span class="o">=</span> <span class="no">ROM</span><span class="p">.</span><span class="nf">container</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
</code></pre>

<p>Here&rsquo;s an example of a setup that infers components from dir/file names:</p>
<pre class="highlight ruby"><code><span class="n">config</span> <span class="o">=</span> <span class="no">ROM</span><span class="o">::</span><span class="no">Configuration</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">:sql</span><span class="p">,</span> <span class="s1">'postgres://localhost/rom'</span><span class="p">)</span>

<span class="c1"># configure auto-registration by providing root path to your components</span>
<span class="c1"># namespacing is turned off</span>
<span class="n">config</span><span class="p">.</span><span class="nf">auto_registration</span><span class="p">(</span><span class="s2">"/path/to/components"</span><span class="p">,</span> <span class="ss">namespace: </span><span class="kp">false</span><span class="p">)</span>

<span class="c1"># assuming there's `/path/to/components/relations/users.rb`</span>
<span class="c1"># which defines `Users` relation class it will be automatically registered</span>

<span class="c1"># creates rom container with registered components</span>
<span class="n">container</span> <span class="o">=</span> <span class="no">ROM</span><span class="p">.</span><span class="nf">container</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
</code></pre>

<p>You can also use auto-registration with namespaces, which is turned on by default:</p>
<pre class="highlight ruby"><code><span class="n">config</span> <span class="o">=</span> <span class="no">ROM</span><span class="o">::</span><span class="no">Configuration</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="ss">:sql</span><span class="p">,</span> <span class="s1">'postgres://localhost/rom'</span><span class="p">)</span>

<span class="c1"># configure auto-registration by providing root path to your components</span>
<span class="c1"># namespacing is turned on by default</span>
<span class="n">config</span><span class="p">.</span><span class="nf">auto_registration</span><span class="p">(</span><span class="s2">"/path/to/components"</span><span class="p">)</span>

<span class="c1"># assuming there's `/path/to/components/relations/users.rb`</span>
<span class="c1"># which defines `Relations::Users` class it will be automatically registered</span>

<span class="c1"># creates rom container with registered components</span>
<span class="n">container</span> <span class="o">=</span> <span class="no">ROM</span><span class="p">.</span><span class="nf">container</span><span class="p">(</span><span class="n">config</span><span class="p">)</span>
</code></pre>

<p>For a quick-start you can use an in-line style setup DSL:</p>
<pre class="highlight ruby"><code><span class="n">rom</span> <span class="o">=</span> <span class="no">ROM</span><span class="p">.</span><span class="nf">container</span><span class="p">(</span><span class="ss">:sql</span><span class="p">,</span> <span class="s1">'postgres://localhost/rom'</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">config</span><span class="o">|</span>
  <span class="n">config</span><span class="p">.</span><span class="nf">use</span><span class="p">(</span><span class="ss">:macros</span><span class="p">)</span> <span class="c1"># enable in-line component registration</span>

  <span class="n">config</span><span class="p">.</span><span class="nf">relation</span><span class="p">(</span><span class="ss">:users</span><span class="p">)</span> <span class="k">do</span>
    <span class="k">def</span> <span class="nf">by_id</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
      <span class="n">where</span><span class="p">(</span><span class="ss">id: </span><span class="nb">id</span><span class="p">)</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">rom</span><span class="p">.</span><span class="nf">relation</span><span class="p">(</span><span class="ss">:users</span><span class="p">)</span> <span class="c1"># returns registered users relation object</span>
</code></pre>

<h2 id="command-api-improvements">Command API Improvements</h2>

<p>Probably the most noticable improvement/feature is the addition of the command graph DSL. The command graph was introduced in 0.9.0 and it allowed you to compose a single command that will be able to persist data coming in a nested structure, similar to <code>nested_attributes_for</code> in ActiveRecord, but more flexible.</p>

<p>This release introduces support for <code>update</code> and <code>delete</code> commands in the graph as well as a new DSL for graph definitions. Here&rsquo;s an example:</p>
<pre class="highlight ruby"><code><span class="c1"># assuming `rom` is your rom container and you have `create` commands</span>
<span class="c1"># for :users and :books relations</span>
<span class="n">command</span> <span class="o">=</span> <span class="n">rom</span><span class="p">.</span><span class="nf">command</span> <span class="c1"># returns command builder</span>

<span class="c1"># define a command that will persist user data with its book data</span>
<span class="n">create_command</span> <span class="o">=</span> <span class="n">command</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="ss">user: :users</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">user</span><span class="o">|</span>
  <span class="n">user</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="ss">:books</span><span class="p">)</span>
<span class="k">end</span>

<span class="c1"># call it with a nested input</span>
<span class="n">create_command</span><span class="p">.</span><span class="nf">call</span><span class="p">(</span>
  <span class="ss">user: </span><span class="p">{</span>
    <span class="ss">name: </span><span class="s2">"Jane"</span><span class="p">,</span>
    <span class="ss">books: </span><span class="p">[{</span> <span class="ss">title: </span><span class="s2">"Book 1"</span> <span class="p">},</span> <span class="p">{</span> <span class="ss">title: </span><span class="s2">"Book 2"</span> <span class="p">}]</span>
  <span class="p">}</span>
<span class="p">)</span>
</code></pre>

<p>It also supports <code>update</code> (<code>delete</code> works in the same way):</p>
<pre class="highlight ruby"><code><span class="c1"># assuming `rom` is your rom container and you have `update` commands</span>
<span class="c1"># for :users and :books relations</span>
<span class="n">command</span> <span class="o">=</span> <span class="n">rom</span><span class="p">.</span><span class="nf">command</span> <span class="c1"># returns command builder</span>

<span class="c1"># define a command that will restrict user by its id and update it</span>
<span class="n">user_update</span> <span class="o">=</span> <span class="n">command</span><span class="p">.</span><span class="nf">restrict</span><span class="p">(</span><span class="ss">:users</span><span class="p">)</span> <span class="p">{</span> <span class="o">|</span><span class="n">users</span><span class="p">,</span> <span class="n">user</span><span class="o">|</span> <span class="n">users</span><span class="p">.</span><span class="nf">by_id</span><span class="p">(</span><span class="n">user</span><span class="p">[</span><span class="ss">:id</span><span class="p">])</span> <span class="p">}</span>

<span class="n">update_command</span> <span class="o">=</span> <span class="n">command</span><span class="p">.</span><span class="nf">update</span><span class="p">(</span><span class="ss">user: </span><span class="n">user_update</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">user</span><span class="o">|</span>
  <span class="c1"># define an inner update command for books</span>
  <span class="n">books_update</span> <span class="o">=</span> <span class="n">user</span><span class="p">.</span><span class="nf">restrict</span><span class="p">(</span><span class="ss">:books</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">books</span><span class="p">,</span> <span class="n">user</span><span class="p">,</span> <span class="n">book</span><span class="o">|</span>
    <span class="n">books</span><span class="p">.</span><span class="nf">by_user</span><span class="p">(</span><span class="n">user</span><span class="p">).</span><span class="nf">by_id</span><span class="p">(</span><span class="n">book</span><span class="p">[</span><span class="ss">:id</span><span class="p">])</span>
  <span class="k">end</span>

  <span class="n">user</span><span class="p">.</span><span class="nf">update</span><span class="p">(</span><span class="ss">books: </span><span class="n">books_update</span><span class="p">)</span>
<span class="k">end</span>

<span class="c1"># call it with a nested input</span>
<span class="n">update_command</span><span class="p">.</span><span class="nf">call</span><span class="p">(</span>
  <span class="ss">user: </span><span class="p">{</span>
    <span class="ss">id: </span><span class="mi">1</span><span class="p">,</span>
    <span class="ss">name: </span><span class="s2">"Jane Doe"</span><span class="p">,</span>
    <span class="ss">books: </span><span class="p">[{</span> <span class="ss">id: </span><span class="mi">1</span><span class="p">,</span> <span class="ss">title: </span><span class="s2">"Book 1"</span> <span class="p">},</span> <span class="p">{</span> <span class="ss">id: </span><span class="mi">2</span><span class="p">,</span> <span class="ss">title: </span><span class="s2">"Book 2"</span> <span class="p">}]</span>
  <span class="p">}</span>
<span class="p">)</span>
</code></pre>

<p>As a bonus, you are free to use all types of commands in the same graph and have complete freedom in defining how specific relations must be restricted for a given command.</p>

<h3 id="new-command-result-api">New Command Result API</h3>

<p>Starting from 1.0.0 you can check whether a command result was successful or not:</p>
<pre class="highlight ruby"><code><span class="n">create_command</span> <span class="o">=</span> <span class="n">command</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="ss">user: :users</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">user</span><span class="o">|</span>
  <span class="n">user</span><span class="p">.</span><span class="nf">create</span><span class="p">(</span><span class="ss">:books</span><span class="p">)</span>
<span class="k">end</span>

<span class="n">result</span> <span class="o">=</span> <span class="n">create_command</span><span class="p">.</span><span class="nf">call</span><span class="p">(</span>
  <span class="ss">user: </span><span class="p">{</span>
    <span class="ss">name: </span><span class="s2">"Jane"</span><span class="p">,</span>
    <span class="ss">books: </span><span class="p">[{</span> <span class="ss">title: </span><span class="s2">"Book 1"</span> <span class="p">},</span> <span class="p">{</span> <span class="ss">title: </span><span class="s2">"Book 2"</span> <span class="p">}]</span>
  <span class="p">}</span>
<span class="p">)</span>

<span class="n">result</span><span class="p">.</span><span class="nf">success?</span> <span class="c1"># true if everything went fine, false otherwise</span>
<span class="n">result</span><span class="p">.</span><span class="nf">failure?</span> <span class="c1"># true if it failed, false otherwise</span>
</code></pre>

<h2 id="relation-api-extensions">Relation API Extensions</h2>

<p>Early version of rom-repository introduced a couple of plugins that now have become part of the core rom gem. They are opt-in and the adapter developers must decide whether or not it makes sense to enable them for adapter relations.</p>

<h3 id="view">View</h3>

<p>Relation <code>view</code> plugin is a DSL for defining relation views with an explicit header definition. It is typically useful for reusable relation projections that you can easily compose together in repositories.</p>

<p>Here&rsquo;s a simple example:</p>
<pre class="highlight ruby"><code><span class="k">class</span> <span class="nc">Users</span> <span class="o">&lt;</span> <span class="no">ROM</span><span class="o">::</span><span class="no">Relation</span><span class="p">[</span><span class="ss">:sql</span><span class="p">]</span>
  <span class="n">view</span><span class="p">(</span><span class="ss">:listing</span><span class="p">,</span> <span class="p">[</span><span class="ss">:id</span><span class="p">,</span> <span class="ss">:name</span><span class="p">,</span> <span class="ss">:email</span><span class="p">])</span> <span class="k">do</span> <span class="o">|*</span><span class="n">order_args</span><span class="o">|</span>
    <span class="nb">select</span><span class="p">(</span><span class="ss">:id</span><span class="p">,</span> <span class="ss">:name</span><span class="p">,</span> <span class="ss">:email</span><span class="p">).</span><span class="nf">order</span><span class="p">(</span><span class="o">*</span><span class="n">order_args</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">rom</span><span class="p">.</span><span class="nf">relation</span><span class="p">(</span><span class="ss">:users</span><span class="p">).</span><span class="nf">listing</span><span class="p">(</span><span class="ss">:name</span><span class="p">,</span> <span class="ss">:id</span><span class="p">)</span>
</code></pre>

<p>This plugin plays major role in relation composition as it defines the header up-front, which allows repositories to generate mappers automatically, which is very convenient. It is also a nice way of specifying re-usable relation projections which some times may indicate where using an actual database view (assuming your db supports it) could simplify your queries.</p>

<h3 id="key-inference">Key Inference</h3>

<p>This simple plugin provides default value for a foreign-key in a relation. It is used for generating relation views used for composition in the repositories.</p>

<p>You can use it too:</p>
<pre class="highlight ruby"><code><span class="n">rom</span><span class="p">.</span><span class="nf">relation</span><span class="p">(</span><span class="ss">:users</span><span class="p">).</span><span class="nf">foreign_key</span> <span class="c1"># =&gt; `:user_id`</span>
</code></pre>

<h3 id="defining-default-datasets">Defining Default Datasets</h3>

<p>It is now possible to not only specify the name of a relation dataset, but also configure it using a block, when you do that your relation will be initialized with whatever that blocks returns, it is executed in the context of the dataset object:</p>
<pre class="highlight ruby"><code><span class="k">class</span> <span class="nc">Users</span> <span class="o">&lt;</span> <span class="no">ROM</span><span class="o">::</span><span class="no">Relation</span><span class="p">[</span><span class="ss">:sql</span><span class="p">]</span>
  <span class="n">dataset</span><span class="p">(</span><span class="ss">:people</span><span class="p">)</span> <span class="k">do</span>
    <span class="nb">select</span><span class="p">(</span><span class="ss">:id</span><span class="p">,</span> <span class="ss">:name</span><span class="p">).</span><span class="nf">order</span><span class="p">(</span><span class="ss">:id</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre>

<h3 id="mapper-extension">Mapper Extension</h3>

<p>There&rsquo;s one new feature in the mapper DSL where you can map values from multiple attributes into a new attribute:</p>
<pre class="highlight ruby"><code><span class="k">class</span> <span class="nc">MyMapper</span> <span class="o">&lt;</span> <span class="no">ROM</span><span class="o">::</span><span class="no">Mapper</span>
  <span class="n">attribute</span> <span class="ss">:address</span><span class="p">,</span> <span class="ss">from: </span><span class="p">[</span><span class="ss">:city</span><span class="p">,</span> <span class="ss">:street</span><span class="p">,</span> <span class="ss">:zipcode</span><span class="p">]</span> <span class="k">do</span> <span class="o">|</span><span class="n">city</span><span class="p">,</span> <span class="n">street</span><span class="p">,</span> <span class="n">zipcode</span><span class="o">|</span>
    <span class="s2">"</span><span class="si">#{</span><span class="n">city</span><span class="si">}</span><span class="s2">, </span><span class="si">#{</span><span class="n">street</span><span class="si">}</span><span class="s2">, </span><span class="si">#{</span><span class="n">zipcode</span><span class="si">}</span><span class="s2">"</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre>

<h2 id="release-plan">Release Plan</h2>

<p>Please try out the beta releases and provide feedback. Once we are sure that it works for everybody we&rsquo;ll be able to push the first RC and hopefully follow-up with the final 1.0.0 release shortly after the RC. Other gems that are now released as betas will be bumped to final versions and depend on rom 1.0.0 final.</p>

<p>The final release also means a major update of <a href="http://rom-rb.org">rom-rb.org</a> along with a new set of documentation, guides and tutorials. This is still a work in progress and needs help, please <a href="https://gitter.im/rom-rb/chat">get in touch</a> if you&rsquo;re interested in helping out.</p>

<p>Once rom 1.0.0 is out there will be major focus on rom-sql and rom-repository. There&rsquo;s a plan to <a href="https://github.com/rom-rb/rom-sql/issues/48">improve query DSL</a> in rom-sql and provide full CRUD interface for repositories that should be handy for simple applications.</p>

<p>If you see any issues, please report them in the individual issue trackers on Github or main <a href="https://github.com/rom-rb/rom/issues">rom</a> if you are not sure which gem it relates to.</p>
</div><div class="article-footer"><hr /><div class="article-social"><ul><li><div class="share"></div></li><li><a href="/blog/2015/11/24/first-beta-of-rom-1-0-0-has-been-released#disqus_thread">Leave a comment</a></li></ul></div><hr /><div class="article-comments"><div id="disqus_thread"><script>/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'rom-rb-blog'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script></div></div></div></article></section></div><div class="col-md-4"><aside><div class="blog-sidebar panel panel-default"><div class="panel-heading"><div class="panel-title">Wherein we talk about ROM</div></div><div class="panel-body"><a class="subscribe btn btn-info" href="http://rom-rb.org/blog/feed.xml">Subscribe</a></div></div><div class="tag-sidebar panel panel-default"><div class="panel-heading"><div class="panel-title">Browse tags</div></div><ul class="blog-tags"><li><span class="badge">5</span><a href="/blog/tags/release/">release</a></li><li><span class="badge">9</span><a href="/blog/tags/announcement/">announcement</a></li><li><span class="badge">1</span><a href="/blog/tags/oss/">oss</a></li><li><span class="badge">1</span><a href="/blog/tags/support/">support</a></li></ul></div></aside></div></div></div></div></div></div><footer><div class="container"><div class="social"><div class="github"><iframe allowtransparency="true" frameborder="0" height="20" scrolling="0" src="http://ghbtns.com/github-btn.html?user=rom-rb&repo=rom&type=watch&count=true" width="110"></iframe></div><div class="twitter"><a class="twitter-follow-button" data-show-count="true" data-show-screen-name="false" href="https://twitter.com/rom_rb">Follow</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script></div></div><div class="muted copyright">Ruby Object Mapper &copy; 2014-2016</div></div></footer></body></html>